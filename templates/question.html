{% extends "base.html" %}
{% block content %}
<h1>IT Grunnkurs Memorizer</h1>
<h3>Spørsmål #{{ id }}</h3>
<h4>
	<span class="label label-warning">Combo: {{ session.combo }}</span>
	<span class="label label-primary">Poeng: {{ session.points }} ({{ percentage(session.points, session.total) }}%)</span>
	<span class="label label-primary">Spørsmål: {{ session.total }}/{{ num_questions }}</span>
	<a href="{{ url_for('reset_stats') }}" class="btn btn-default btn-xs">Nullstill</a>
</h4>
{% for alert in alerts %}
	<div class="alert alert-{{ alert.level }} alert-dismissable">
		<button type="button" class="close" data-dismiss="alert">&times;</button>
		{{ alert.msg }}
	</div>
{% endfor %}

{% if question is defined %}
<div class="container">
	<h4>{{ question.question }} </h4>
	<form class="form-horizontal" role="form" method="post">
	<div class="form-group">
	<input type="hidden" name="order" value="{{ answers|join(',', attribute=0) }}">
	{% for index, answer in answers %}
	{% if (index)|string() == request.form.answer %}<div class="has-{% if success %}success{% else %}error{% endif %}">{% endif %}
		<div class="radio">
			<label>
				{% if success is defined %}
					<span class="glyphicon {% if index == question.correct %}glyphicon-ok{% else %}glyphicon-remove{% endif %}"></span>
				{% endif %}
				<input type="radio" name="answer" value="{{ index }}">
				{{ answer }}
			</label>
		</div>
	{% if index|string() == request.form.answer %}</div>{% endif %}
	{% endfor %}
	</div>
 	<div class="form-group">
		<button type="submit" class="btn btn-primary">Svar</button>
	</div>
	</form>
</div>
{% endif %}

<div class="btn-group">
	<a href="{{ url_for('show_question', id=prev) }}" id="prev_question" class="btn btn-default">Forrige</a>
	<a href="{{ url_for('show_question', id=random) }}" id="random_question" class="btn btn-default">Tilfeldig</a>
	<a href="{{ url_for('show_question', id=next) }}" id="next_question" class="btn btn-{% if success is defined %}success{% else %}default{% endif %}">Neste</a>
</div>
<footer>
	<p class="text-muted">Ved funn av eventuelle feil send gjerne en mail til <a href="mailto:itgk@cxhristian.com">itgk@cxhristian.com</a></p>
	<p><a href="https://github.com/cXhristian/memorizer">Koden er tilgjengelig på Github</a></p>
</footer>
{% endblock %}
